{"remainingRequest":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drob/Desktop/2006/suibian/drobob/src/views/main/stayhome/stayhomeadd.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drob/Desktop/2006/suibian/drobob/src/views/main/stayhome/stayhomeadd.vue","mtime":1600820511341},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJzdGF5aG9tZWFkZCIsCiAgICBkYXRhKCl7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY2F0ZWdvcmllczpbXSwKICAgICAgICAgICAgdXBsb2FkdXJsOlVSTCArICcvYWRtaW4vdXBsb2FkL2luZGV4JywKICAgICAgICAgICAgc2hvd0xvYWRpbmc6ZmFsc2UsCiAgICAgICAgICAgIHN0YXlob21lZm9ybTp7CiAgICAgICAgICAgICAgICBzbmFtZTonJywKICAgICAgICAgICAgICAgIHNkZXNjOicnLAogICAgICAgICAgICAgICAgc3RodW1iOicnLAogICAgICAgICAgICAgICAgc3ByaWNlOicnLAogICAgICAgICAgICAgICAgc2NpdHk6JycsCiAgICAgICAgICAgICAgICBzYXJlYTonJywKICAgICAgICAgICAgICAgIHNhZGRyZXNzOicnLAogICAgICAgICAgICAgICAgc3RhZzonJywKICAgICAgICAgICAgICAgIHNiYW5uZXI6JycsCiAgICAgICAgICAgICAgICBzY29yZTonJywKICAgICAgICAgICAgICAgIHNkZXRhaWw6JycsCiAgICAgICAgICAgICAgICBzbm90aWNlOicnLAogICAgICAgICAgICAgICAgY3RpbWU6JycsCiAgICAgICAgICAgICAgICBzdGF0dXM6JycsCiAgICAgICAgICAgICAgICBjaWQ6JycsCgogICAgICAgICAgICB9LAogICAgICAgICAgICBiYW5uZXJBcnI6W10sCiAgICAgICAgICAgIGRpYWxvZ1Zpc2libGU6ZmFsc2UsCgoKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczp7CiAgICAgICAgaW5pdENhdGVnb3J5KCl7CgogICAgICAgIH0sCgogICAgICAgIC8v57yp55Wl5Zu+5LiK5Lyg5oiQ5YqfCiAgICAgICAgaGFuZGxlVGh1bWJTdWNjZXNzKCl7CgoKICAgICAgICB9LAogICAgICAgIGhhbmRsZVRodW1iQmVmb3J1cGxvYWQoZmlsZSl7CiAgICAgICAgICAgIGxldCB7c2l6ZSx0eXBlfT1maWxlOwogICAgICAgICAgICBsZXQgdXBsb2FkTWF4c2l6ZT0yMDAqMTAyNDsKICAgICAgICAgICAgbGV0IHVwbG9hZFR5cGU9WydpbWFnZS9qcGcnLCdpbWFnZS9qcGVnJywnaW1hZ2UvcG5nJywnaW1hZ2Uvd2VicCddOwogICAgICAgICAgICBsZXQgc2l6ZUZsYWc9dHJ1ZSx0eXBlRmxhZz10cnVlOwogICAgICAgICAgICBzaXplRmxhZyA9IHNpemUgPCB1cGxvYWRNYXhzaXplOwogICAgICAgICAgICB0eXBlRmxhZyA9IHVwbG9hZFR5cGUuc29tZShlbGU9PmVsZT09dHlwZSk7CiAgICAgICAgICAgIGlmICghdHlwZUZsYWcpewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5Y+q6IO95Li6anBn77yManBlZ++8jHBuZ++8jHdlYnDmoLzlvI8nKQogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmICghc2l6ZUZsYWcpewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5LiK5Lyg5Zu+54mH5aSn5bCP5LiN6IO96LaF6L+HMjAwa2InKQogICAgICAgICAgICB9CgoKICAgICAgICAgICAgcmV0dXJuIHNpemVGbGFnICYmIHR5cGVGbGFnCgoKCiAgICAgICAgfSwKICAgICAgICAvL+i9ruaSreS4iuS8oAogICAgICAgIGhhbmRsZUJhbm5lclN1Y2Nlc3MocmVzKXsKICAgICAgICAgIC8vIHRoaXMuc3RheWhvbWVmb3JtLnNiYW5uZXIgKz0gcmVzLmltZ3BhdGggKyAnLCc7CiAgICAgICAgICAgIHRoaXMuYmFubmVyQXJyLnNiYW5uZXI9dGhpcy5iYW5uZXJBcnIuam9pbignLCcpOwoKICAgICAgICB9LAogICAgICAgIGhhbmRsZUJhbm5lclByZXZpZXcoZmlsZSl7CiAgICAgICAgICAgIGxldCB1cmw9dGhpcy5JTUdVUkwrZmlsZS5yZXNwb25zZS5pbWdwYXRoOwogICAgICAgICAgICB0aGlzLmRpYWxvZ1Zpc2libGU9dHJ1ZTsKICAgICAgICB9LAoKCgoKICAgIH0KfQo="},{"version":3,"sources":["stayhomeadd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA","file":"stayhomeadd.vue","sourceRoot":"src/views/main/stayhome","sourcesContent":["<template>\n    <div>\n        <el-form :model=\"stayhomeform\" ref=\"stayhomeform\">\n            <el-form-item label=\"所属分类\">\n                <el-input v-model=\"stayhomeform.cid\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"名称\">\n                <el-input v-model=\"stayhomeform.sname\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"详情\">\n                <el-input v-model=\"stayhomeform.sdesc\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"缩略图\">\n            <el-form-item>\n                    <el-upload\n                            class=\"avatar-uploader\"\n                            :action=\"uploadurl\"\n                            list-type=\"picture-card\"\n                            multiple\n                            limit=\"5\"\n                            :on-success=\"handleThumbSuccess\"\n                            :before-upload=\"handleThumbBeforupload\">\n                        <img v-if=\"stayhomeform.sthumb\" :src=\"URL+stayhomeform.sthumb\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png/jpeg/webp文件，且不超过200kb</div>\n                    </el-upload>\n\n            </el-form-item>\n            </el-form-item>\n            <el-form-item label=\"价格\">\n                <el-input v-model=\"stayhomeform.sprice\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"城市\">\n                <el-input v-model=\"stayhomeform.scity\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"标签\">\n                <el-input v-model=\"stayhomeform.stag\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"banner\">\n                <el-form-item>\n                    <el-upload\n                            class=\"avatar-uploader\"\n                            :action=\"uploadurl\"\n                            :show-file-list=\"false\"\n                            :on-success=\"handleBannerSuccess\"\n                            :before-upload=\"handleThumbBeforupload\">\n<!--                        <i class=\"el-icon-plus\"></i>-->\n                        <img v-if=\"stayhomeform.sthumb\" :src=\"URL+stayhomeform.sthumb\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png/jpeg/webp文件，且不超过200kb,最佳比例1：1，最多五张</div>\n                    </el-upload>\n\n                </el-form-item>\n            </el-form-item>\n            <el-form-item label=\"评分\">\n                <el-input v-model=\"stayhomeform.score\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"detail\">\n                <el-input v-model=\"stayhomeform.sdetail\"></el-input>\n            </el-form-item>\n\n        </el-form>\n\n        <el-dialog>\n\n        </el-dialog>\n    </div>\n</template>\n\n<script>\n    export default {\n        name: \"stayhomeadd\",\n        data(){\n            return {\n                categories:[],\n                uploadurl:URL + '/admin/upload/index',\n                showLoading:false,\n                stayhomeform:{\n                    sname:'',\n                    sdesc:'',\n                    sthumb:'',\n                    sprice:'',\n                    scity:'',\n                    sarea:'',\n                    saddress:'',\n                    stag:'',\n                    sbanner:'',\n                    score:'',\n                    sdetail:'',\n                    snotice:'',\n                    ctime:'',\n                    status:'',\n                    cid:'',\n\n                },\n                bannerArr:[],\n                dialogVisible:false,\n\n\n            }\n        },\n        methods:{\n            initCategory(){\n\n            },\n\n            //缩略图上传成功\n            handleThumbSuccess(){\n\n\n            },\n            handleThumbBeforupload(file){\n                let {size,type}=file;\n                let uploadMaxsize=200*1024;\n                let uploadType=['image/jpg','image/jpeg','image/png','image/webp'];\n                let sizeFlag=true,typeFlag=true;\n                sizeFlag = size < uploadMaxsize;\n                typeFlag = uploadType.some(ele=>ele==type);\n                if (!typeFlag){\n                    this.$message.error('上传图片只能为jpg，jpeg，png，webp格式')\n                }\n                if (!sizeFlag){\n                    this.$message.error('上传图片大小不能超过200kb')\n                }\n\n\n                return sizeFlag && typeFlag\n\n\n\n            },\n            //轮播上传\n            handleBannerSuccess(res){\n              // this.stayhomeform.sbanner += res.imgpath + ',';\n                this.bannerArr.sbanner=this.bannerArr.join(',');\n\n            },\n            handleBannerPreview(file){\n                let url=this.IMGURL+file.response.imgpath;\n                this.dialogVisible=true;\n            },\n\n\n\n\n        }\n    }\n</script>\n\n<style>\n    .el-icon-plus.avatar-uploader-icon{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #409EFF;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n    .avatar {\n        width: 178px;\n        height: 178px;\n        display: block;\n    }\n\n</style>"]}]}