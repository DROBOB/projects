{"remainingRequest":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drob/Desktop/2006/suibian/drobob/src/views/main/category/add.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/drob/Desktop/2006/suibian/drobob/src/views/main/category/add.vue","mtime":1600411496673},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwoKaW1wb3J0IHtVUkwsU1VDQ0VTUyxGQUlMfSBmcm9tICIuLi8uLi8uLi9saWIvYmFzZSI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiYWRkIiwKICAgIGRhdGEoKXsKICAgICAgICBsZXQgdmFsaWRhdGVDbmFtZSA9IChydWxlLHZhbHVlLGNhbGxiYWNrKT0+ewogICAgICAgICAgICBpZiAodmFsdWU9PT0nJyl7CiAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+WIhuexu+WQjeensOS4jeiDveS4uuepuicpKTsKICAgICAgICAgICAgfWVsc2UgaWYgKCEoL1tcdTRlMDAtXHU5ZmE1XXsyLDZ9Ly50ZXN0KHZhbHVlKSkpewogICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfliIbnsbvnmoTlkI3np7Dlj6rog73ljIXlkKsyLTbkvY3msYnlrZcnKSkKCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICAgICAgfQoKICAgICAgICB9CgoKCiAgICAgICAgcmV0dXJuewogICAgICAgICAgICBjYXRlZ29yeTp7CiAgICAgICAgICAgICAgICBjbmFtZTonJywKICAgICAgICAgICAgICAgIGNkZXNjOicnCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNhdGVnb3J5UnVsZXM6ewogICAgICAgICAgICAgICAgY25hbWU6WwogICAgICAgICAgICAgICAgICAgIC8vIHtyZXF1aXJlZDp0cnVlLG1hc3NhZ2U6J+WIhuexu+WQjeW/heWhqycsdHJpZ2dlcjonYmx1cid9LAogICAgICAgICAgICAgICAgICAgIHt2YWxpZGF0b3I6dmFsaWRhdGVDbmFtZSx0cmlnZ2VyOiAiYmx1ciJ9CiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICAgY2Rlc2M6WwogICAgICAgICAgICAgICAgICAgIHtyZXF1aXJlZDp0cnVlLG1hc3NhZ2U6J+ivt+i+k+WFpeWIhuexu+aPj+i/sCcsdHJpZ2dlcjonYmx1cid9LAogICAgICAgICAgICAgICAgICAgIHttaW46MyxtYXg6MjAsbWFzc2FnZTogJ+mVv+W6puS4ujMtMjDkvY3lrZfnrKYnLHRyaWdnZXI6ICdibHVyJ30KCgogICAgICAgICAgICAgICAgXQoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICBoYW5kbGVyU3VibWl0KCl7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuY2F0ZWdvcnlmb3JtLnZhbGlkYXRlKHZhbGlkPT57CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWxpZCk7CgogICAgICAgICAgICAgICAgaWYgKHZhbGlkKXsKICAgICAgICAgICAgICAgICAgICBsZXQgdXJsPVVSTCsnL2FkbWluL2NhdGVnb3J5L2FkZCc7CiAgICAgICAgICAgICAgICAgICAgbGV0IHRva2VuPXNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICAgICAgICAgICAgICAgICAgLy8gYXhpb3MucG9zdCh1cmwsdGhpcy5jYXRlZ29yeSkudGhlbihyZXM9PnsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgU1VDQ0VTUyxGQUlMCiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICAgICAgLy8gfSkuY2F0Y2goZXJyb3I9PnsKICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5YiG57G75re75Yqg5aSx6LSlJyk7CiAgICAgICAgICAgICAgICAgICAgLy8gfSkKICAgICAgICAgICAgICAgICAgICBheGlvcyh7CiAgICAgICAgICAgICAgICAgICAgICAgIHVybCwKICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOidQT1NUJywKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTp0aGlzLmNhdGVnb3J5LAogICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOnsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRva2VuCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KS50aGVuKHJlcz0+ewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzLnN0YXR1cz09PTIwMCAmJiByZXMuZGF0YS5jb2RlPT09U1VDQ0VTUyl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MocmVzLmRhdGEubXNnKQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKCk9PnsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlLmVycm9yKCfliIbnsbvmt7vliqDlpLHotKUnKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQoKICAgIH0KfQo="},{"version":3,"sources":["add.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAqBA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"add.vue","sourceRoot":"src/views/main/getagory","sourcesContent":["<template>\n\n    <div>\n        <el-form :model=\"category\" :rules=\"categoryRules\" ref=\"categoryform\">\n            <el-form-item label=\"分类名称\" prop=\"cname\">\n                <el-input v-model=\"category.cname\" placeholder=\"请输入分类名称(2-6汉字)\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"分类描述\" prop=\"cdesc\">\n                <el-input v-model=\"category.cdesc\" placeholder=\"请输入分类描述\"></el-input>\n\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"handlerSubmit\">提交</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n    \n</template>\n\n<script>\n\n    import axios from 'axios';\n\n    import {URL,SUCCESS,FAIL} from \"../../../lib/base\";\n\n    export default {\n        name: \"add\",\n        data(){\n            let validateCname = (rule,value,callback)=>{\n                if (value===''){\n                    callback(new Error('分类名称不能为空'));\n                }else if (!(/[\\u4e00-\\u9fa5]{2,6}/.test(value))){\n                    callback(new Error('分类的名称只能包含2-6位汉字'))\n\n                }else{\n                    callback();\n                }\n\n            }\n\n\n\n            return{\n                category:{\n                    cname:'',\n                    cdesc:''\n                },\n                categoryRules:{\n                    cname:[\n                        // {required:true,massage:'分类名必填',trigger:'blur'},\n                        {validator:validateCname,trigger: \"blur\"}\n                    ],\n                    cdesc:[\n                        {required:true,massage:'请输入分类描述',trigger:'blur'},\n                        {min:3,max:20,massage: '长度为3-20位字符',trigger: 'blur'}\n\n\n                    ]\n\n                }\n            }\n        },\n        methods:{\n            handlerSubmit(){\n                this.$refs.categoryform.validate(valid=>{\n                    // console.log(valid);\n\n                    if (valid){\n                        let url=URL+'/admin/category/add';\n                        let token=sessionStorage.getItem('token');\n                        // axios.post(url,this.category).then(res=>{\n                        //     SUCCESS,FAIL\n                        //     console.log(res);\n                        // }).catch(error=>{\n                        //     this.$message.error('分类添加失败');\n                        // })\n                        axios({\n                            url,\n                            method:'POST',\n                            data:this.category,\n                            headers:{\n                                token\n                            }\n                        }).then(res=>{\n                            console.log(res);\n                            if (res.status===200 && res.data.code===SUCCESS){\n                                this.$message.success(res.data.msg)\n                            }\n                        }).catch(()=>{\n                            this.message.error('分类添加失败')\n                        })\n                    }\n                })\n            }\n\n        }\n    }\n</script>\n\n<style scoped>\n\n</style>"]}]}