{"remainingRequest":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/drob/Desktop/2006/suibian/drobob/src/views/main/stayhome/stayhomeadd.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/drob/Desktop/2006/suibian/drobob/src/views/main/stayhome/stayhomeadd.vue","mtime":1601019028593},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmVsLWljb24tcGx1cy5hdmF0YXItdXBsb2FkZXItaWNvbnsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7Cn0KLmF2YXRhci11cGxvYWRlciAuZWwtdXBsb2FkIHsKICAgIGJvcmRlcjogMXB4IGRhc2hlZCAjZDlkOWQ5OwogICAgYm9yZGVyLXJhZGl1czogNnB4OwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgb3ZlcmZsb3c6IGhpZGRlbjsKfQouYXZhdGFyLXVwbG9hZGVyIC5lbC11cGxvYWQ6aG92ZXIgewogICAgYm9yZGVyLWNvbG9yOiAjNDA5RUZGOwp9Ci5hdmF0YXItdXBsb2FkZXItaWNvbiB7CiAgICBmb250LXNpemU6IDI4cHg7CiAgICBjb2xvcjogIzhjOTM5ZDsKICAgIHdpZHRoOiAxNzhweDsKICAgIGhlaWdodDogMTc4cHg7CiAgICBsaW5lLWhlaWdodDogMTc4cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7Cn0KLmF2YXRhciB7CiAgICB3aWR0aDogMTc4cHg7CiAgICBoZWlnaHQ6IDE3OHB4OwogICAgZGlzcGxheTogYmxvY2s7Cn0KCg=="},{"version":3,"sources":["stayhomeadd.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"stayhomeadd.vue","sourceRoot":"src/views/main/stayhome","sourcesContent":["<template>\n    <div>\n        <el-form :model=\"stayhomeform\" ref=\"stayhomeform\">\n            <el-form-item label=\"所属分类\">\n                <el-input v-model=\"stayhomeform.cid\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"名称\">\n                <el-input v-model=\"stayhomeform.sname\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"详情\">\n                <el-input v-model=\"stayhomeform.sdesc\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"缩略图\">\n            <el-form-item>\n                    <el-upload\n                            class=\"avatar-uploader\"\n                            :action=\"uploadurl\"\n                            list-type=\"picture-card\"\n                            multiple\n                            limit=\"5\"\n                            :on-success=\"handleThumbSuccess\"\n                            :before-upload=\"handleThumbBeforupload\">\n                        <img v-if=\"stayhomeform.sthumb\" :src=\"URL+stayhomeform.sthumb\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png/jpeg/webp文件，且不超过200kb</div>\n                    </el-upload>\n            </el-form-item>\n            </el-form-item>\n            <el-form-item label=\"价格\">\n                <el-input v-model=\"stayhomeform.sprice\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"城市\">\n                <el-input v-model=\"stayhomeform.scity\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"标签\">\n                <el-input v-model=\"stayhomeform.stag\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"民宿省份\">\n                <el-select v-model=\"stayhomeform.sprovince\">\n                    <el-option v-for=\"(item,index) in province\" :key=\"index\" :value=\"item\" :label=\"item\">\n                    </el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"民宿城市\">\n                <el-select v-model=\"stayhomeform.scity\">\n                    <el-option v-for=\"(item,index) in cityList\" :key=\"index\" :value=\"item\" :label=\"item\">\n                    </el-option>\n                </el-select>\n            </el-form-item>\n            <el-form-item label=\"banner\">\n                <el-form-item>\n                    <el-upload\n                            class=\"avatar-uploader\"\n                            :action=\"uploadurl\"\n                            :show-file-list=\"false\"\n                            :on-success=\"handleBannerSuccess\"\n                            :before-upload=\"handleThumbBeforupload\">\n<!--                        <i class=\"el-icon-plus\"></i>-->\n                        <img v-if=\"stayhomeform.sthumb\" :src=\"URL+stayhomeform.sthumb\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                        <div slot=\"tip\" class=\"el-upload__tip\">只能上传jpg/png/jpeg/webp文件，且不超过200kb,最佳比例1：1，最多五张</div>\n                    </el-upload>\n\n                </el-form-item>\n            </el-form-item>\n            <el-form-item label=\"评分\">\n                <el-input v-model=\"stayhomeform.score\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"详情\">\n\n            </el-form-item>\n            <div id=\"sdetail\" ref=\"sdetail\"></div>\n\n\n        </el-form>\n\n        <el-dialog>\n\n        </el-dialog>\n    </div>\n</template>\n\n\n<script>\n    import E from 'wangeditor';\n    import {URL} from \"../../../lib/base\";\n    import city from \"../../../lib/city.json\"\n    // import RichText from \"../../../components/richtext/RichText\";\n    // import loading from \"../../../components/loading\";\n    import instance from \"../../../http/http\";\n    console.log(city)\n\n    export default {\n        name: \"stayhomeadd\",\n        data(){\n            return {\n                categories:[],\n                uploadurl:URL + '/admin/upload/index',\n                showLoading:false,\n                stayhomeform:{\n                    sname:'',\n                    sdesc:'',\n                    sthumb:'',\n                    sprice:'',\n                    scity:'',\n                    sarea:'',\n                    saddress:'',\n                    stag:'',\n                    sbanner:'',\n                    score:'',\n                    sdetail:'',\n                    snotice:'',\n                    ctime:'',\n                    status:'',\n                    sprovince:'',\n                    cid:'',\n\n                },\n                bannerArr:[],\n                dialogVisible:false,\n                dialogPreviewImg:'',\n                city,\n                province:[],\n                citylist:[],\n\n\n            }\n        },\n        computed:{\n            // cityList(){\n            //    let current=this.city.find(ele=>ele.name === this.stayhomeform.sprovince);\n            //    let cityList=current.city.map(ele=>ele.name);\n            //     console.log(cityList)\n            // },\n            // areaList(){\n            //\n            // }\n\n        },\n\n        methods:{\n            initCategory(){\n                instance('/admin/category/indexall').then(res=>{\n                    // this.show\n                    if(res.code===200){\n                        this.categories=res.data;\n\n                    }\n                }).catch(()=>{\n\n                })\n\n            },\n\n            //缩略图上传成功\n            handleThumbSuccess(){\n\n\n            },\n            handleThumbBeforupload(file){\n                let {size,type}=file;\n                let uploadMaxsize=200*1024;\n                let uploadType=['image/jpg','image/jpeg','image/png','image/webp'];\n                let sizeFlag=true,typeFlag=true;\n                sizeFlag = size < uploadMaxsize;\n                typeFlag = uploadType.some(ele=>ele==type);\n                if (!typeFlag){\n                    this.$message.error('上传图片只能为jpg，jpeg，png，webp格式')\n                }\n                if (!sizeFlag){\n                    this.$message.error('上传图片大小不能超过200kb')\n                }\n\n\n                return sizeFlag && typeFlag\n\n\n\n            },\n            //轮播上传\n            handleBannerSuccess(){\n              // this.stayhomeform.sbanner += res.imgpath + ',';\n                this.bannerArr.sbanner=this.bannerArr.join(',');\n\n            },\n            handleBannerPreview(file){\n                let url=this.IMGURL+file.response.imgpath;\n                url;\n                this.dialogVisible=true;\n            },\n            initRichText(){\n                // let that=this;\n\n\n                let edit=new E(this.$refs.sdetail);\n                edit.create();\n\n            },\n            setProvince(){\n                this.province=this.city.map(ele=>ele.name);\n            },\n            setCityList(){\n\n            }\n\n\n        },\n        mounted() {\n            this.setProvince();\n            this.initCategory();\n            this.initRichText();\n        }\n    }\n</script>\n\n<style>\n    .el-icon-plus.avatar-uploader-icon{\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    .avatar-uploader .el-upload {\n        border: 1px dashed #d9d9d9;\n        border-radius: 6px;\n        cursor: pointer;\n        position: relative;\n        overflow: hidden;\n    }\n    .avatar-uploader .el-upload:hover {\n        border-color: #409EFF;\n    }\n    .avatar-uploader-icon {\n        font-size: 28px;\n        color: #8c939d;\n        width: 178px;\n        height: 178px;\n        line-height: 178px;\n        text-align: center;\n    }\n    .avatar {\n        width: 178px;\n        height: 178px;\n        display: block;\n    }\n\n</style>"]}]}