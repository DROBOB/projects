{"remainingRequest":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/babel-loader/lib/index.js!/Users/drob/Desktop/2006/suibian/drobob/node_modules/eslint-loader/index.js??ref--13-0!/Users/drob/Desktop/2006/suibian/drobob/src/http/http.js","dependencies":[{"path":"/Users/drob/Desktop/2006/suibian/drobob/src/http/http.js","mtime":1600997164873},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/drob/Desktop/2006/suibian/drobob/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB7IFVSTCB9IGZyb20gIi4uL2xpYi9iYXNlIjsKaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gImVsZW1lbnQtdWkiOwp2YXIgaW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6IFVSTCwKICB0aW1lb3V0OiA1MDAwCn0pOwppbnN0YW5jZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vIGNvbnNvbGUubG9nKCdyZXF1ZXN0Jyk7CiAgLy8gY29uc29sZS5sb2coY29uZmlnKTsKICB2YXIgdG9rZW4gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpOwoKICBpZiAodG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzID0gT2JqZWN0LmFzc2lnbihjb25maWcuaGVhZGVycywgewogICAgICB0b2tlbjogdG9rZW4sCiAgICAgICdSZXRyeS1hZnRlcic6IDM2MDAKICAgIH0pOwogIH0KCiAgcmV0dXJuIGNvbmZpZzsKfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7Cmluc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAwKSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIHZhciBtZXNzYWdlID0gJyc7CgogIGlmIChlcnJvciAmJiBlcnJvci5yZXNwb25zZSkgewogICAgc3dpdGNoIChlcnJvci5yZXNwb25zZS5zdGF0dXMpIHsKICAgICAgY2FzZSA0MDA6CiAgICAgICAgbWVzc2FnZSA9ICfmnI3liqHlmajml6Dms5XnkIbop6Por7fmsYLnmoTmoLzlvI8nOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDE6CiAgICAgICAgbWVzc2FnZSA9ICfor7fmsYLmnKrmjojmnYMnOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDM6CiAgICAgICAgbWVzc2FnZSA9ICfnpoHmraLorr/pl64nOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0MDQ6CiAgICAgICAgbWVzc2FnZSA9ICfmib7kuI3liLDlpoLkvZXkuI4gVVJMIOWMuemFjeeahOi1hOa6kCc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMDoKICAgICAgICBtZXNzYWdlID0gJ+acjeWKoeWZqOmUmeivryc7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDUwMzoKICAgICAgICBtZXNzYWdlID0gJ+acjeWKoeWZqOaaguaXtuaXoOazleWkhOeQhuivt+axgic7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICBNZXNzYWdlKHsKICAgIHR5cGU6ICdlcnJvcicsCiAgICBtZXNzYWdlOiBtZXNzYWdlCiAgfSk7CiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CmV4cG9ydCBkZWZhdWx0IGluc3RhbmNlOw=="},{"version":3,"sources":["/Users/drob/Desktop/2006/suibian/drobob/src/http/http.js"],"names":["axios","URL","Message","instance","create","baseURL","timeout","interceptors","request","use","config","token","sessionStorage","getItem","headers","Object","assign","error","Promise","reject","response","status","data","message","type"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,GAAR,QAAkB,aAAlB;AACA,SAAQC,OAAR,QAAsB,YAAtB;AAEA,IAAMC,QAAQ,GAACH,KAAK,CAACI,MAAN,CAAa;AACxBC,EAAAA,OAAO,EAACJ,GADgB;AAExBK,EAAAA,OAAO,EAAC;AAFgB,CAAb,CAAf;AAMAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAAUC,MAAV,EAAkB;AAChD;AACA;AACA,MAAIC,KAAK,GAACC,cAAc,CAACC,OAAf,CAAuB,OAAvB,CAAV;;AACA,MAAIF,KAAJ,EAAU;AACND,IAAAA,MAAM,CAACI,OAAP,GAAeC,MAAM,CAACC,MAAP,CAAcN,MAAM,CAACI,OAArB,EAA6B;AAACH,MAAAA,KAAK,EAALA,KAAD;AAAO,qBAAc;AAArB,KAA7B,CAAf;AACH;;AACD,SAAOD,MAAP;AAEH,CATD,EASE,UAAUO,KAAV,EAAiB;AACf,SAAOC,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AAEH,CAZD;AAcAd,QAAQ,CAACI,YAAT,CAAsBa,QAAtB,CAA+BX,GAA/B,CAAmC,UAAUW,QAAV,EAAoB;AACnD,MAAIA,QAAQ,CAACC,MAAT,KAAkB,GAAtB,EAA2B;AACvB,WAAOD,QAAQ,CAACE,IAAhB;AACH;AAGJ,CAND,EAOI,UAAUL,KAAV,EAAiB;AACjB,MAAIM,OAAO,GAAC,EAAZ;;AACA,MAAIN,KAAK,IAAIA,KAAK,CAACG,QAAnB,EAA4B;AACxB,YAAQH,KAAK,CAACG,QAAN,CAAeC,MAAvB;AACI,WAAK,GAAL;AACIE,QAAAA,OAAO,GAAC,cAAR;AACA;;AACJ,WAAK,GAAL;AACIA,QAAAA,OAAO,GAAC,OAAR;AACA;;AACJ,WAAK,GAAL;AACIA,QAAAA,OAAO,GAAC,MAAR;AACA;;AACJ,WAAK,GAAL;AACIA,QAAAA,OAAO,GAAC,kBAAR;AACA;;AACJ,WAAK,GAAL;AACIA,QAAAA,OAAO,GAAC,OAAR;AACA;;AACJ,WAAK,GAAL;AACIA,QAAAA,OAAO,GAAC,aAAR;AACA;AAlBR;AAuBH;;AACDrB,EAAAA,OAAO,CAAC;AACJsB,IAAAA,IAAI,EAAC,OADD;AAEJD,IAAAA,OAAO,EAAPA;AAFI,GAAD,CAAP;AAKA,SAAOL,OAAO,CAACC,MAAR,CAAeF,KAAf,CAAP;AAEC,CAzCL;AA2CA,eAAed,QAAf","sourcesContent":["import axios from 'axios';\nimport {URL} from \"../lib/base\";\nimport {Message} from \"element-ui\";\n\nconst instance=axios.create({\n    baseURL:URL,\n    timeout:5000\n})\n\n\ninstance.interceptors.request.use(function (config) {\n    // console.log('request');\n    // console.log(config);\n    let token=sessionStorage.getItem('token');\n    if (token){\n        config.headers=Object.assign(config.headers,{token,'Retry-after':3600})\n    }\n    return config;\n\n},function (error) {\n    return Promise.reject(error);\n\n});\n\ninstance.interceptors.response.use(function (response) {\n    if (response.status===200) {\n        return response.data;\n    }\n\n\n},\n    function (error) {\n    let message='';\n    if (error && error.response){\n        switch (error.response.status) {\n            case 400:\n                message='服务器无法理解请求的格式';\n                break;\n            case 401:\n                message='请求未授权';\n                break;\n            case 403:\n                message='禁止访问';\n                break;\n            case 404:\n                message='找不到如何与 URL 匹配的资源';\n                break;\n            case 500:\n                message='服务器错误';\n                break;\n            case 503:\n                message='服务器暂时无法处理请求';\n                break;\n\n\n\n        }\n    }\n    Message({\n        type:'error',\n        message\n\n    })\n    return Promise.reject(error);\n\n    })\n\nexport default instance;"]}]}